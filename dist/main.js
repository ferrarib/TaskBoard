(()=>{"use strict";var t={d:(e,n)=>{for(var d in n)t.o(n,d)&&!t.o(e,d)&&Object.defineProperty(e,d,{enumerable:!0,get:n[d]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{H:()=>L});let e="Default",n={};function d(t){e=t}function s(){return e}function a(){return n[e]}function c(){return n}function i(t){delete n[t],e==t&&d("Default"),r(n)}function o(t){n[t]=[],d(t),r(n)}function l(t){const d=n[e].findIndex((e=>e.taskID==t));n[e].splice(d,1),r(n)}function r(t){localStorage.setItem("task-board-storage",JSON.stringify(t))}function p(t){document.getElementById("content").removeChild(t)}const u=["Low","Medium","High"],m=["Backlog","In Progress","Completed"];function h(t=null){const d=document.createElement("dialog");d.id="add-dialog";const s=document.createElement("form");s.classList.add("add-form"),d.appendChild(s),s.addEventListener("submit",(s=>{s.preventDefault();let a=new FormData(s.target),c=Object.fromEntries(a);var i;null==t?(i=new E(c.title,c.description,c.duedate,c.priority,"Backlog"),n[e].push(i),r(n)):function(t,d){let s=n[e].findIndex((e=>t.taskID==e.taskID));n[e][s].title=d.title,n[e][s].description=d.description,n[e][s].dueDate=d.duedate,n[e][s].priority=d.priority,n[e][s].status=d.status,r(n)}(t,c),L(),d.close()}));const a=document.createElement("div");a.classList.add("form-inputs-container");const c=document.createElement("div");c.classList.add("left-column-inputs");const i=document.createElement("div");i.classList.add("add-title-container");const o=document.createElement("label");o.classList.add("add-title-label"),o.textContent="Title: ",o.setAttribute("for","title"),i.appendChild(o);const l=document.createElement("input");l.classList.add("add-title"),l.setAttribute("type","text"),l.setAttribute("name","title"),l.required=!0,l.setAttribute("value",t?.title??""),i.appendChild(l),c.appendChild(i);const h=document.createElement("div");h.classList.add("add-description-container");const C=document.createElement("label");C.classList.add("add-description-label"),C.textContent="Description: ",C.setAttribute("for","description"),h.appendChild(C);const v=document.createElement("textarea");v.classList.add("add-description"),v.setAttribute("name","description"),v.textContent=t?.description??"",h.appendChild(v),c.appendChild(h),a.appendChild(c);const b=document.createElement("div");b.classList.add("right-column-inputs");const g=document.createElement("div");g.classList.add("add-duedate-container");const f=document.createElement("label");f.classList.add("add-duedate-label"),f.textContent="Due Date: ",f.setAttribute("for","duedate"),g.appendChild(f);const k=document.createElement("input");k.classList.add("add-duedate"),k.setAttribute("type","date"),k.setAttribute("name","duedate"),k.setAttribute("value",t?.dueDate??""),k.required=!0,g.appendChild(k),b.appendChild(g);const y=document.createElement("div");y.classList.add("add-priority-container");const x=document.createElement("label");x.classList.add("add-priority-label"),x.textContent="Priority: ",x.setAttribute("for","priority"),y.appendChild(x);const A=document.createElement("select");A.classList.add("add-priority-select"),A.setAttribute("name","priority"),y.appendChild(A),u.forEach((e=>{let n=document.createElement("option");n.classList.add("add-priority-option"),n.value=e,n.textContent=e,e==t?.priority&&(n.selected=!0),A.appendChild(n)})),b.appendChild(y);const D=document.createElement("div");D.classList.add("add-status-container");const j=document.createElement("label");j.classList.add("add-status-label"),j.textContent="Status: ",j.setAttribute("for","status"),D.appendChild(j);const I=document.createElement("select");I.classList.add("add-status-select"),I.setAttribute("name","status"),D.appendChild(I),null==t&&I.setAttribute("disabled","true"),m.forEach((e=>{let n=document.createElement("option");n.classList.add("add-status-option"),n.value=e,n.textContent=e,null==t&&"Backlog"==e&&(n.selected=!0),null!=t&&e==t.status&&(n.selected=!0),I.appendChild(n)})),b.appendChild(D),a.appendChild(b),s.appendChild(a);const P=document.createElement("div");P.classList.add("add-button-container");const B=document.createElement("button");P.classList.add("add-submit-button"),B.setAttribute("type","submit"),B.textContent=t?"Update Task":"Add Task",P.appendChild(B);const w=document.createElement("button");return w.classList.add("add-cancel-button"),w.setAttribute("type","button"),w.textContent="Cancel",w.addEventListener("click",(()=>{d.close(),p(d)})),P.appendChild(w),s.appendChild(P),d}function C(){let t,e=c(),n=s();const d=document.getElementById("content"),a=document.getElementById("manage-projects-dialog");null!=a&&d.removeChild(a);let l=document.createElement("dialog");l.id="manage-projects-dialog";const r=document.createElement("div");r.classList.add("manage-projects-content");const u=document.createElement("div");u.classList.add("projects-container");const m=document.createElement("div");m.classList.add("project-items-container");let h=!1;if(Object.entries(e).forEach((d=>{const s=document.createElement("div");s.classList.add("project"),s.classList.add("hidden"),s.tabIndex="-1","Default"==d[0]&&(t=s),1==h&&(s.style.backgroundColor="rgb(247, 247, 247)"),s.addEventListener("click",(t=>{s.classList.add("focused"),s.classList.remove("hidden");const n=u.children;for(let t=0;t<n.length;t++)n[t]!=s&&(n[t].classList.remove("focused"),n[t].classList.add("hidden"));m.innerHTML="",e[d[0]].forEach((t=>{const e=v(t);m.appendChild(e.cloneNode(!0))}))}),{capture:!0});const a=document.createElement("div");a.classList.add("project-name"),a.textContent=d[0];const c=document.createElement("img");c.classList.add("project-delete"),c.setAttribute("src","./assets/delete.svg"),c.addEventListener("click",(()=>{const e=c.parentNode.querySelector(".project-name").textContent,n=u.children;let d;for(let t=0;t<n.length;t++)n[t].querySelector(".project-name").textContent==e&&(d=n[t]);u.removeChild(d),i(e),t.click()})),s.appendChild(a),"Default"!=d[0]&&s.appendChild(c),u.appendChild(s),h=!h,d[0]==n&&s.click()})),u.children.length<8){const t=document.createElement("div");t.classList.add("project"),t.classList.add("add-project");const e=document.createElement("div");e.classList.add("project-name"),e.textContent="Add Project",t.addEventListener("click",(n=>{n.stopPropagation();const d=document.createElement("input");t.innerHTML="",t.appendChild(d),d.focus(),d.addEventListener("keydown",(t=>{"Enter"==t.key&&(console.log("submitting project..."),o(d.value),C())})),d.addEventListener("focusout",(n=>{t.innerHTML="",t.appendChild(e)}))})),t.appendChild(e),u.appendChild(t)}r.appendChild(u),r.appendChild(m);const E=document.createElement("div");E.classList.add("manage-projects-button-container");const b=document.createElement("button");b.classList.add("manage-projects-close"),b.textContent="Close",b.addEventListener("click",(()=>{p(l),L()})),E.appendChild(b),l.appendChild(r),l.appendChild(E),d.appendChild(l)}class E{static#t=1;constructor(t,e,n,d,s){this.title=t,this.description=e,this.dueDate=n,this.priority=d,this.status=s,this.taskID=E.#t,E.#t++}}function v(t){let e=a();const n=document.createElement("div");n.classList.add("task-item"),n.addEventListener("click",(t=>{const d=n.querySelector("hidden");console.log(e),console.log(d.id);const s=h(e.find((t=>t.taskID==d.id)));document.getElementById("content").appendChild(s),s.showModal()}));const d=document.createElement("hidden");d.setAttribute("id",t.taskID),n.appendChild(d);const s=document.createElement("div");s.classList.add("item-container-line-1");const c=document.createElement("div");c.classList.add("title-container");const i=document.createElement("img");i.src="./assets/library.svg";const o=document.createElement("div");o.classList.add("item-title"),o.textContent=t.title,c.appendChild(i),c.appendChild(o);const r=document.createElement("div");r.classList.add("item-status-container");const p=document.createElement("div");p.classList.add("item-status-label"),p.textContent="Status: ";const u=document.createElement("div");u.textContent=t.status,r.appendChild(p),r.appendChild(u),s.appendChild(c),s.appendChild(r);const m=document.createElement("div");m.classList.add("item-container-line-2");const C=document.createElement("div");C.classList.add("item-duedate-container");const E=document.createElement("div");E.classList.add("item-duedate-label"),E.textContent="Due: ";const v=document.createElement("div");v.textContent=function(t){const e=new Date,n=new Date(t),d=Math.abs(e-n),s=Math.ceil(d/864e5);return 0==s?"Today":1==s?"Tomorrow":n>e&&s>1&&s<4?s+" Days":n<e?`Passed Due (${n.toDateString()})`:n.toDateString()}(t.dueDate),C.appendChild(E),C.appendChild(v);const b=document.createElement("div");b.classList.add("item-priority-container");const g=document.createElement("div");g.classList.add("item-priority-label"),g.textContent="Priority: ";const f=document.createElement("div");f.textContent=t.priority,b.appendChild(g),b.appendChild(f);const k=document.createElement("div");k.classList.add("item-description-container"),m.appendChild(C),m.appendChild(b);const y=document.createElement("div");y.classList.add("item-description-label"),y.textContent="Description";const x=document.createElement("div");x.textContent=t.description,x.classList.add("item-description"),k.appendChild(y),k.appendChild(x),n.appendChild(s),n.appendChild(m),n.appendChild(k);const A=document.createElement("img");return A.classList.add("delete-item-button"),A.classList.add("hide-button"),A.setAttribute("src","./assets/delete.svg"),A.addEventListener("click",(e=>{e.stopPropagation(),l(t.taskID),L()})),n.addEventListener("mouseover",(t=>{t.stopPropagation(),A.classList.remove("hide-button")})),n.addEventListener("mouseout",(t=>{t.stopPropagation(),A.classList.add("hide-button")})),n.appendChild(A),n}function L(){const t=document.getElementById("content");t.innerHTML="",t.appendChild(function(){let t=[...Object.keys(n)],e=s();const a=document.createElement("div");a.classList.add("task-bar");const c=document.createElement("div");c.classList.add("active-project-container");const i=document.createElement("div");i.classList.add("active-project-prefix"),i.textContent="Project / ";const o=document.createElement("select");o.id="active-project",t.forEach((t=>{const n=document.createElement("option");n.classList.add("active-project-option"),n.setAttribute("value",t),n.textContent=t,t==e&&n.setAttribute("selected",!0),o.appendChild(n)})),o.addEventListener("change",(t=>{let e=t.target.children,n="Default";for(let t=0;t<e.length;t++)e[t].selected&&(n=e[t].value);d(n),L()})),c.appendChild(i),c.appendChild(o),a.appendChild(c);const l=document.createElement("div");l.classList.add("filters-container");const r=document.createElement("img");r.classList.add("filter-button"),r.classList.add("add-task"),r.setAttribute("src","./assets/plus.svg"),r.addEventListener("click",(()=>{const t=document.getElementById("content"),e=h();t.appendChild(e),e.showModal()})),r.addEventListener("mouseover",(()=>{r.setAttribute("src","./assets/plus-hover.svg")})),r.addEventListener("mouseout",(()=>{r.setAttribute("src","./assets/plus.svg")}));const p=document.createElement("img");p.classList.add("filter-button"),p.classList.add("filter"),p.setAttribute("src","./assets/filter.svg"),p.addEventListener("click",(()=>{console.log("Filter button was clicked!")})),p.addEventListener("mouseover",(()=>{p.setAttribute("src","./assets/filter-hover.svg")})),p.addEventListener("mouseout",(()=>{p.setAttribute("src","./assets/filter.svg")}));const u=document.createElement("img");return u.classList.add("filter-button"),u.classList.add("sort"),u.setAttribute("src","./assets/sort.svg"),u.addEventListener("click",(()=>{console.log("Sort button was clicked!")})),u.addEventListener("mouseover",(()=>{u.setAttribute("src","./assets/sort-hover.svg")})),u.addEventListener("mouseout",(()=>{u.setAttribute("src","./assets/sort.svg")})),l.appendChild(r),l.appendChild(p),l.appendChild(u),a.appendChild(l),a}()),t.appendChild(function(){let t=a(),e=t.filter((t=>"Backlog"==t.status)),n=t.filter((t=>"In Progress"==t.status)),d=t.filter((t=>"Completed"==t.status));const s=document.createElement("div");s.classList.add("task-type-container");const c=document.createElement("div");c.classList.add("task-type");const i=document.createElement("div");i.classList.add("task-title"),i.textContent="Backlog",c.appendChild(i);const o=document.createElement("div");o.classList.add("task-item-container"),e.forEach((t=>{o.appendChild(v(t))})),c.appendChild(o);const l=document.createElement("div");l.classList.add("task-type");const r=document.createElement("div");r.classList.add("task-title"),r.textContent="In Progress",l.appendChild(r);const p=document.createElement("div");p.classList.add("task-item-container"),n.forEach((t=>{p.appendChild(v(t))})),l.appendChild(p);const u=document.createElement("div");u.classList.add("task-type");const m=document.createElement("div");m.classList.add("task-title"),m.textContent="Completed",u.appendChild(m);const h=document.createElement("div");return h.classList.add("task-item-container"),d.forEach((t=>{h.appendChild(v(t))})),u.appendChild(h),s.appendChild(c),s.appendChild(l),s.appendChild(u),s}())}document.getElementById("nav").appendChild(function(){const t=document.createElement("div");t.classList.add("nav-bar");const e=document.createElement("div");e.classList.add("title"),e.textContent="Task Board";const n=document.createElement("div");return n.classList.add("manage-projects"),n.textContent="Manage Projects",n.addEventListener("click",(()=>{console.log("Navbar"),C()})),t.appendChild(e),t.appendChild(n),t}()),function(){let t=JSON.parse(localStorage.getItem("task-board-storage"));t?n=t:(console.log("No storage found"),n.Default=[])}(),L()})();